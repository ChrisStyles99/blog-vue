(function(e){function t(t){for(var r,o,s=t[0],c=t[1],i=t[2],l=0,g=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&g.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(g.length)g.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(u.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a={app:0},u=[];function s(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"45b56054","chunk-22c51684":"2d32ad30","chunk-28e23158":"630780c3","chunk-3db5ea53":"bed8a0c1","chunk-464799fe":"55ca8b6e","chunk-4877f118":"8a5d0cae","chunk-643fd98a":"9fa08593","chunk-6901e045":"a7fabca2","chunk-8bc57daa":"7bda58cc","chunk-c01db14e":"ed5b4423"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={about:1,"chunk-22c51684":1,"chunk-28e23158":1,"chunk-3db5ea53":1,"chunk-464799fe":1,"chunk-4877f118":1,"chunk-643fd98a":1,"chunk-6901e045":1,"chunk-8bc57daa":1,"chunk-c01db14e":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"492d721d","chunk-22c51684":"5e922eba","chunk-28e23158":"85673b73","chunk-3db5ea53":"1b2762b4","chunk-464799fe":"6754b3c6","chunk-4877f118":"db96d077","chunk-643fd98a":"3c691895","chunk-6901e045":"5ab75736","chunk-8bc57daa":"15c31ac5","chunk-c01db14e":"730c00ef"}[e]+".css",a=c.p+r,u=document.getElementsByTagName("link"),s=0;s<u.length;s++){var i=u[s],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===r||l===a))return t()}var g=document.getElementsByTagName("style");for(s=0;s<g.length;s++){i=g[s],l=i.getAttribute("data-href");if(l===r||l===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete o[e],f.parentNode.removeChild(f),n(u)},f.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=u);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var g=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;g.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",g.name="ChunkLoadError",g.type=r,g.request=o,n[1](g)}a[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var g=0;g<i.length;g++)t(i[g]);var f=l;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"21bb":function(e,t,n){"use strict";var r=n("2dad"),o=n.n(r);o.a},"2dad":function(e,t,n){},5452:function(e,t,n){"use strict";var r=n("af35"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("4de4"),n("fb6a"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("HeaderComp"),e.error?n("Errors",{attrs:{msg:e.error}}):e._e(),n("router-view")],1)},a=[],u=n("5530"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar"},[n("nav",[n("h1",[n("router-link",{staticClass:"logo-router",attrs:{to:"/"}},[e._v("Home")])],1),n("ul",{class:{active:e.isActive}},[n("li",[n("router-link",{staticClass:"link-router",attrs:{to:"/about"}},[e._v(" About ")])],1),n("li",[n("router-link",{staticClass:"link-router",attrs:{to:"/all-blogs"}},[e._v(" All Blogs ")])],1),n("li",[e.isLoggedIn?e._e():n("router-link",{staticClass:"link-router",attrs:{to:"/login"}},[e._v(" Login ")])],1),n("li",[e.isLoggedIn?e._e():n("router-link",{staticClass:"link-router",attrs:{to:"/register"}},[e._v(" Register ")])],1),n("li",[e.isLoggedIn?n("router-link",{staticClass:"link-router",attrs:{to:"/profile"}},[e._v(" Profile ")]):e._e()],1),n("li",[e.isLoggedIn?n("router-link",{staticClass:"link-router",attrs:{to:"/create-post"}},[e._v(" Create post ")]):e._e()],1),n("li",[e.isLoggedIn?n("a",{staticClass:"link-router",attrs:{to:"/logout"},on:{click:function(t){return t.preventDefault(),e.logoutUser()}}},[e._v(" Logout ")]):e._e()])]),n("div",{staticClass:"menu-btn",on:{click:function(t){return e.toggleMenu()}}},[n("i",{staticClass:"fas fa-bars"})])])])},c=[],i=n("2f62"),l={name:"HeaderComp",data:function(){return{isActive:!1}},watch:{$route:function(e,t){console.log(e,t),this.isActive=!1}},computed:Object(u["a"])({},Object(i["c"])(["isLoggedIn","user"])),methods:Object(u["a"])(Object(u["a"])({},Object(i["b"])(["logout","getProfile"])),{},{logoutUser:function(){this.logout()},toggleMenu:function(){this.isActive=!this.isActive}}),created:function(){this.getProfile()}},g=l,f=(n("5452"),n("2877")),d=Object(f["a"])(g,s,c,!1,null,null,null),p=d.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error-div"},[e._v(" "+e._s(e.msg)+" ")])},m=[],b={props:["msg"]},v=b,k=(n("8990"),Object(f["a"])(v,h,m,!1,null,"01422cd6",null)),_=k.exports,w={components:{HeaderComp:p,Errors:_},computed:Object(u["a"])({},Object(i["c"])(["error"]))},O=w,j=(n("5c0b"),Object(f["a"])(O,o,a,!1,null,null,null)),x=j.exports,y=(n("45fc"),n("d3b7"),n("8c4f")),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"text-btn"},[e.isLoggedIn?e._e():n("h1",[e._v("Welcome to the blog")]),e.isLoggedIn?n("h1",[e._v("Welcome Back, "+e._s(e.user.name))]):e._e(),n("router-link",{staticClass:"blogs-btn",attrs:{to:"/all-blogs"}},[e._v(" See all blogs ")]),e.isLoggedIn?e._e():n("router-link",{staticClass:"blogs-btn",attrs:{to:"/login"}},[e._v("Log in here")]),e.isLoggedIn?n("router-link",{staticClass:"blogs-btn",attrs:{to:"/profile"}},[e._v("View Profile")]):e._e()],1),n("img",{attrs:{src:"https://images.pexels.com/photos/313782/pexels-photo-313782.jpeg"}})])},A=[],L={name:"Home",components:{},computed:Object(u["a"])({},Object(i["c"])(["isLoggedIn","user"])),methods:Object(u["a"])({},Object(i["b"])(["getProfile"])),created:function(){this.getProfile()}},R=L,B=(n("21bb"),Object(f["a"])(R,C,A,!1,null,null,null)),P=B.exports,I=(n("96cf"),n("1da1")),E=n("bc3a"),q=n.n(E),S={token:localStorage.getItem("token")||"",user:{},status:"",error:null,blogs:[],ownBlogs:[],singleBlog:""},T={isLoggedIn:function(e){return!!e.token},authState:function(e){return e.status},user:function(e){return e.user},error:function(e){return e.error},blogs:function(e){return e.blogs},ownBlogs:function(e){return e.ownBlogs},singleBlog:function(e){return e.singleBlog}},H={login:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,o,a,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,r("auth_request"),n.next=5,q.a.post("/users/login",t);case 5:return o=n.sent,o.data.success&&(a=o.data.token,u=o.data.user,localStorage.setItem("token",a),q.a.defaults.headers.common["Authorization"]=a,r("auth_success",a,u)),n.abrupt("return",o);case 10:n.prev=10,n.t0=n["catch"](1),r("auth_error",n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},register:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,r("register_request"),n.next=5,q.a.post("/users/register",t);case 5:return o=n.sent,void 0!==o.data.success&&r("register_success"),n.abrupt("return",o);case 10:n.prev=10,n.t0=n["catch"](1),r("register_error",n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},getProfile:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("profile_request"),t.next=4,q.a.get("/users/profile");case 4:return r=t.sent,n("user_profile",r.data.user),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()},logout:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,localStorage.removeItem("token");case 3:return n("logout"),delete q.a.defaults.headers.common["Authorization"],G.push("/"),t.abrupt("return");case 7:case"end":return t.stop()}}),t)})))()},getBlogs:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,q.a.get("/blogs/all-blogs");case 3:r=t.sent,n("all_blogs",r.data);case 5:case"end":return t.stop()}}),t)})))()},addBlog:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,q.a.post("/blogs/add-blog",t);case 3:o=n.sent,r("create_blog",o.data);case 5:case"end":return n.stop()}}),n)})))()},getOwnBlogs:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,q.a.get("/blogs/profile-blogs/".concat(t));case 3:o=n.sent,r("profile_blogs",o.data);case 5:case"end":return n.stop()}}),n)})))()},deleteOwnBlog:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,q.a.delete("/blogs/delete-blog/".concat(t));case 3:o=n.sent,console.log(o),r("delete_blog");case 6:case"end":return n.stop()}}),n)})))()},getPost:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,q.a.get("/blogs/post/".concat(t));case 3:o=n.sent,r("single_blog",o.data);case 5:case"end":return n.stop()}}),n)})))()},updateBlog:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,o,a,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=t.id,a=t.updBlog,n.next=4,q.a.put("/blogs/edit-blog/".concat(o),a);case 4:u=n.sent,r("update_blog",u.data);case 6:case"end":return n.stop()}}),n)})))()}},$={auth_request:function(e){e.error=null,e.status="loading"},auth_success:function(e,t,n){e.error=null,e.token=t,e.user=n,e.status="success"},auth_error:function(e,t){e.error=t.response.data.msg},register_request:function(e){e.error=null,e.status="loading"},register_success:function(e){e.error=null,e.status="success"},register_error:function(e,t){e.error=t.response.data.msg},logout:function(e){e.error=null,e.status="",e.token="",e.user=""},profile_request:function(e){e.status="loading"},user_profile:function(e,t){e.user=t},all_blogs:function(e,t){e.blogs=t},create_blog:function(e,t){e.blogs.push(t)},profile_blogs:function(e,t){e.ownBlogs=t},delete_blog:function(e){e.ownBlogs},single_blog:function(e,t){e.singleBlog=t},update_blog:function(e,t){e.singleBlog=t}},M={state:S,actions:H,mutations:$,getters:T};r["a"].use(i["a"]);var N=new i["a"].Store({modules:{Auth:M}});r["a"].use(y["a"]);var D=[{path:"/",name:"Home",component:P},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/all-blogs",name:"All-blogs",component:function(){return n.e("chunk-22c51684").then(n.bind(null,"7f54"))}},{path:"/login",name:"Login",component:function(){return n.e("chunk-c01db14e").then(n.bind(null,"a55b"))},meta:{requiresGuest:!0}},{path:"/register",name:"Register",component:function(){return n.e("chunk-6901e045").then(n.bind(null,"73cf"))},meta:{requiresGuest:!0}},{path:"/post/:id",name:"Post",component:function(){return n.e("chunk-643fd98a").then(n.bind(null,"37d3"))}},{path:"/create-post",name:"Create-post",component:function(){return n.e("chunk-464799fe").then(n.bind(null,"a9d1"))},meta:{requiresAuth:!0}},{path:"/edit-post/:id",name:"Edit-post",component:function(){return n.e("chunk-4877f118").then(n.bind(null,"8a5e"))},meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:function(){return n.e("chunk-28e23158").then(n.bind(null,"c66d"))},meta:{requiresAuth:!0}},{path:"/dashboard",name:"Dashboard",component:function(){return n.e("chunk-3db5ea53").then(n.bind(null,"7277"))},meta:{requiresAuth:!0}},{path:"*",name:"PageNotFound",component:function(){return n.e("chunk-8bc57daa").then(n.bind(null,"a5b5"))}}],z=new y["a"]({mode:"history",base:"",routes:D});z.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?N.getters.isLoggedIn?n():n("/login"):e.matched.some((function(e){return e.meta.requiresGuest}))&&N.getters.isLoggedIn?n("/profile"):n()}));var G=z;r["a"].config.productionTip=!1,r["a"].prototype.$http=q.a;var U=localStorage.getItem("token");U&&(r["a"].prototype.$http.defaults.headers.common["Authorization"]=U);var F=function(e,t,n){n=n||"...";var r=document.createElement("div");r.innerHTML=e;var o=r.textContent;return o.length>t?o.slice(0,t)+n:o};r["a"].filter("truncate",F),new r["a"]({router:G,store:N,render:function(e){return e(x)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},8990:function(e,t,n){"use strict";var r=n("e1b5"),o=n.n(r);o.a},"9c0c":function(e,t,n){},af35:function(e,t,n){},e1b5:function(e,t,n){}});
//# sourceMappingURL=app.c48be588.js.map